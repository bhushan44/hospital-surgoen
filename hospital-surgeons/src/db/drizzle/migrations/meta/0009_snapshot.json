{
  "id": "3399543c-934e-42af-b7d4-810e85853b86",
  "prevId": "c670058d-d0c5-43e6-9de6-d361194a4477",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.analytics_events": {
      "name": "analytics_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "event_name": {
          "name": "event_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "properties": {
          "name": "properties",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "analytics_events_user_id_fkey": {
          "name": "analytics_events_user_id_fkey",
          "tableFrom": "analytics_events",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.assignment_payments": {
      "name": "assignment_payments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "assignment_id": {
          "name": "assignment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "hospital_id": {
          "name": "hospital_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "doctor_id": {
          "name": "doctor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "consultation_fee": {
          "name": "consultation_fee",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "platform_commission": {
          "name": "platform_commission",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0.00'"
        },
        "doctor_payout": {
          "name": "doctor_payout",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "payment_status": {
          "name": "payment_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "paid_to_doctor_at": {
          "name": "paid_to_doctor_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "assignment_payments_assignment_id_fkey": {
          "name": "assignment_payments_assignment_id_fkey",
          "tableFrom": "assignment_payments",
          "tableTo": "assignments",
          "columnsFrom": [
            "assignment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "assignment_payments_doctor_id_fkey": {
          "name": "assignment_payments_doctor_id_fkey",
          "tableFrom": "assignment_payments",
          "tableTo": "doctors",
          "columnsFrom": [
            "doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "assignment_payments_hospital_id_fkey": {
          "name": "assignment_payments_hospital_id_fkey",
          "tableFrom": "assignment_payments",
          "tableTo": "hospitals",
          "columnsFrom": [
            "hospital_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "assignment_payments_assignment_id_key": {
          "name": "assignment_payments_assignment_id_key",
          "nullsNotDistinct": false,
          "columns": [
            "assignment_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "assignment_payments_payment_status_check": {
          "name": "assignment_payments_payment_status_check",
          "value": "payment_status = ANY (ARRAY['pending'::text, 'processing'::text, 'completed'::text, 'failed'::text])"
        }
      },
      "isRLSEnabled": false
    },
    "public.assignment_ratings": {
      "name": "assignment_ratings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "assignment_id": {
          "name": "assignment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "hospital_id": {
          "name": "hospital_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "doctor_id": {
          "name": "doctor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "rating": {
          "name": "rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "review_text": {
          "name": "review_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "positive_tags": {
          "name": "positive_tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "negative_tags": {
          "name": "negative_tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "assignment_ratings_assignment_id_fkey": {
          "name": "assignment_ratings_assignment_id_fkey",
          "tableFrom": "assignment_ratings",
          "tableTo": "assignments",
          "columnsFrom": [
            "assignment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "assignment_ratings_doctor_id_fkey": {
          "name": "assignment_ratings_doctor_id_fkey",
          "tableFrom": "assignment_ratings",
          "tableTo": "doctors",
          "columnsFrom": [
            "doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "assignment_ratings_hospital_id_fkey": {
          "name": "assignment_ratings_hospital_id_fkey",
          "tableFrom": "assignment_ratings",
          "tableTo": "hospitals",
          "columnsFrom": [
            "hospital_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "assignment_ratings_assignment_id_key": {
          "name": "assignment_ratings_assignment_id_key",
          "nullsNotDistinct": false,
          "columns": [
            "assignment_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "assignment_ratings_rating_check": {
          "name": "assignment_ratings_rating_check",
          "value": "(rating >= 1) AND (rating <= 5)"
        }
      },
      "isRLSEnabled": false
    },
    "public.assignments": {
      "name": "assignments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "hospital_id": {
          "name": "hospital_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "doctor_id": {
          "name": "doctor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "patient_id": {
          "name": "patient_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "availability_slot_id": {
          "name": "availability_slot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'medium'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "requested_at": {
          "name": "requested_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "actual_start_time": {
          "name": "actual_start_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "actual_end_time": {
          "name": "actual_end_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "treatment_notes": {
          "name": "treatment_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "consultation_fee": {
          "name": "consultation_fee",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "cancellation_reason": {
          "name": "cancellation_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_by": {
          "name": "cancelled_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "paid_at": {
          "name": "paid_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_assignments_doctor": {
          "name": "idx_assignments_doctor",
          "columns": [
            {
              "expression": "doctor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_assignments_hospital": {
          "name": "idx_assignments_hospital",
          "columns": [
            {
              "expression": "hospital_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_assignments_patient": {
          "name": "idx_assignments_patient",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_assignments_requested_at": {
          "name": "idx_assignments_requested_at",
          "columns": [
            {
              "expression": "requested_at",
              "isExpression": false,
              "asc": false,
              "nulls": "first",
              "opclass": "timestamp_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_assignments_status": {
          "name": "idx_assignments_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "assignments_availability_slot_id_fkey": {
          "name": "assignments_availability_slot_id_fkey",
          "tableFrom": "assignments",
          "tableTo": "doctor_availability",
          "columnsFrom": [
            "availability_slot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "assignments_doctor_id_fkey": {
          "name": "assignments_doctor_id_fkey",
          "tableFrom": "assignments",
          "tableTo": "doctors",
          "columnsFrom": [
            "doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "assignments_hospital_id_fkey": {
          "name": "assignments_hospital_id_fkey",
          "tableFrom": "assignments",
          "tableTo": "hospitals",
          "columnsFrom": [
            "hospital_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "assignments_patient_id_fkey": {
          "name": "assignments_patient_id_fkey",
          "tableFrom": "assignments",
          "tableTo": "patients",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "assignments_priority_fkey": {
          "name": "assignments_priority_fkey",
          "tableFrom": "assignments",
          "tableTo": "enum_priority",
          "columnsFrom": [
            "priority"
          ],
          "columnsTo": [
            "priority"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assignments_status_fkey": {
          "name": "assignments_status_fkey",
          "tableFrom": "assignments",
          "tableTo": "enum_status",
          "columnsFrom": [
            "status"
          ],
          "columnsTo": [
            "status"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "assignments_cancelled_by_check": {
          "name": "assignments_cancelled_by_check",
          "value": "cancelled_by = ANY (ARRAY['hospital'::text, 'doctor'::text, 'system'::text])"
        }
      },
      "isRLSEnabled": false
    },
    "public.audit_logs": {
      "name": "audit_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "actor_type": {
          "name": "actor_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "idx_audit_logs_created_at": {
          "name": "idx_audit_logs_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": false,
              "nulls": "first",
              "opclass": "timestamp_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_audit_logs_entity": {
          "name": "idx_audit_logs_entity",
          "columns": [
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops"
            },
            {
              "expression": "entity_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_audit_logs_user_id": {
          "name": "idx_audit_logs_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "audit_logs_user_id_fkey": {
          "name": "audit_logs_user_id_fkey",
          "tableFrom": "audit_logs",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "audit_logs_actor_type_check": {
          "name": "audit_logs_actor_type_check",
          "value": "actor_type = ANY (ARRAY['user'::text, 'system'::text, 'admin'::text, 'webhook'::text])"
        }
      },
      "isRLSEnabled": false
    },
    "public.availability_templates": {
      "name": "availability_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "doctor_id": {
          "name": "doctor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "template_name": {
          "name": "template_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "start_time": {
          "name": "start_time",
          "type": "time",
          "primaryKey": false,
          "notNull": true
        },
        "end_time": {
          "name": "end_time",
          "type": "time",
          "primaryKey": false,
          "notNull": true
        },
        "recurrence_pattern": {
          "name": "recurrence_pattern",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "recurrence_days": {
          "name": "recurrence_days",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "valid_from": {
          "name": "valid_from",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "valid_until": {
          "name": "valid_until",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "availability_templates_doctor_id_fkey": {
          "name": "availability_templates_doctor_id_fkey",
          "tableFrom": "availability_templates",
          "tableTo": "doctors",
          "columnsFrom": [
            "doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "availability_templates_check": {
          "name": "availability_templates_check",
          "value": "end_time > start_time"
        },
        "availability_templates_recurrence_pattern_check": {
          "name": "availability_templates_recurrence_pattern_check",
          "value": "recurrence_pattern = ANY (ARRAY['daily'::text, 'weekly'::text, 'monthly'::text, 'custom'::text])"
        }
      },
      "isRLSEnabled": false
    },
    "public.doctor_assignment_usage": {
      "name": "doctor_assignment_usage",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "doctor_id": {
          "name": "doctor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "month": {
          "name": "month",
          "type": "varchar(7)",
          "primaryKey": false,
          "notNull": true
        },
        "count": {
          "name": "count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "limit_count": {
          "name": "limit_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "reset_date": {
          "name": "reset_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "idx_doctor_assignment_usage_doctor_month": {
          "name": "idx_doctor_assignment_usage_doctor_month",
          "columns": [
            {
              "expression": "doctor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            },
            {
              "expression": "month",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "doctor_assignment_usage_doctor_id_fkey": {
          "name": "doctor_assignment_usage_doctor_id_fkey",
          "tableFrom": "doctor_assignment_usage",
          "tableTo": "doctors",
          "columnsFrom": [
            "doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "doctor_assignment_usage_doctor_id_month_key": {
          "name": "doctor_assignment_usage_doctor_id_month_key",
          "nullsNotDistinct": false,
          "columns": [
            "doctor_id",
            "month"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.doctor_availability": {
      "name": "doctor_availability",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "doctor_id": {
          "name": "doctor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "slot_date": {
          "name": "slot_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "start_time": {
          "name": "start_time",
          "type": "time",
          "primaryKey": false,
          "notNull": true
        },
        "end_time": {
          "name": "end_time",
          "type": "time",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'available'"
        },
        "is_manual": {
          "name": "is_manual",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "booked_by_hospital_id": {
          "name": "booked_by_hospital_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "booked_at": {
          "name": "booked_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "parent_slot_id": {
          "name": "parent_slot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_availability_date": {
          "name": "idx_availability_date",
          "columns": [
            {
              "expression": "slot_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_availability_doctor_date": {
          "name": "idx_availability_doctor_date",
          "columns": [
            {
              "expression": "doctor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops"
            },
            {
              "expression": "slot_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_availability_status": {
          "name": "idx_availability_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "doctor_availability_booked_by_hospital_id_fkey": {
          "name": "doctor_availability_booked_by_hospital_id_fkey",
          "tableFrom": "doctor_availability",
          "tableTo": "hospitals",
          "columnsFrom": [
            "booked_by_hospital_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "doctor_availability_doctor_id_fkey": {
          "name": "doctor_availability_doctor_id_fkey",
          "tableFrom": "doctor_availability",
          "tableTo": "doctors",
          "columnsFrom": [
            "doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "doctor_availability_parent_slot_fkey": {
          "name": "doctor_availability_parent_slot_fkey",
          "tableFrom": "doctor_availability",
          "tableTo": "doctor_availability",
          "columnsFrom": [
            "parent_slot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "doctor_availability_status_fkey": {
          "name": "doctor_availability_status_fkey",
          "tableFrom": "doctor_availability",
          "tableTo": "enum_status",
          "columnsFrom": [
            "status"
          ],
          "columnsTo": [
            "status"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "doctor_availability_template_id_fkey": {
          "name": "doctor_availability_template_id_fkey",
          "tableFrom": "doctor_availability",
          "tableTo": "availability_templates",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "doctor_availability_check": {
          "name": "doctor_availability_check",
          "value": "end_time > start_time"
        }
      },
      "isRLSEnabled": false
    },
    "public.doctor_availability_history": {
      "name": "doctor_availability_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "availability_id": {
          "name": "availability_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "old_status": {
          "name": "old_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "new_status": {
          "name": "new_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "changed_by": {
          "name": "changed_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "changed_by_id": {
          "name": "changed_by_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "doctor_availability_history_availability_id_fkey": {
          "name": "doctor_availability_history_availability_id_fkey",
          "tableFrom": "doctor_availability_history",
          "tableTo": "doctor_availability",
          "columnsFrom": [
            "availability_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "doctor_availability_history_changed_by_id_fkey": {
          "name": "doctor_availability_history_changed_by_id_fkey",
          "tableFrom": "doctor_availability_history",
          "tableTo": "users",
          "columnsFrom": [
            "changed_by_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "doctor_availability_history_changed_by_check": {
          "name": "doctor_availability_history_changed_by_check",
          "value": "changed_by = ANY (ARRAY['doctor'::text, 'hospital'::text, 'system'::text, 'admin'::text])"
        },
        "doctor_availability_history_event_type_check": {
          "name": "doctor_availability_history_event_type_check",
          "value": "event_type = ANY (ARRAY['created'::text, 'updated'::text, 'booked'::text, 'released'::text, 'cancelled'::text])"
        }
      },
      "isRLSEnabled": false
    },
    "public.doctor_credentials": {
      "name": "doctor_credentials",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "doctor_id": {
          "name": "doctor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "file_id": {
          "name": "file_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "credential_type": {
          "name": "credential_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "institution": {
          "name": "institution",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "verification_status": {
          "name": "verification_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "uploaded_at": {
          "name": "uploaded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "doctor_credentials_doctor_id_fkey": {
          "name": "doctor_credentials_doctor_id_fkey",
          "tableFrom": "doctor_credentials",
          "tableTo": "doctors",
          "columnsFrom": [
            "doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "doctor_credentials_file_id_fkey": {
          "name": "doctor_credentials_file_id_fkey",
          "tableFrom": "doctor_credentials",
          "tableTo": "files",
          "columnsFrom": [
            "file_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "doctor_credentials_credential_type_check": {
          "name": "doctor_credentials_credential_type_check",
          "value": "credential_type = ANY (ARRAY['degree'::text, 'certificate'::text, 'license'::text, 'other'::text])"
        },
        "doctor_credentials_verification_status_check": {
          "name": "doctor_credentials_verification_status_check",
          "value": "verification_status = ANY (ARRAY['pending'::text, 'verified'::text, 'rejected'::text])"
        }
      },
      "isRLSEnabled": false
    },
    "public.doctor_hospital_affiliations": {
      "name": "doctor_hospital_affiliations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "doctor_id": {
          "name": "doctor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "hospital_id": {
          "name": "hospital_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "is_preferred": {
          "name": "is_preferred",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "doctor_hospital_affiliations_doctor_id_fkey": {
          "name": "doctor_hospital_affiliations_doctor_id_fkey",
          "tableFrom": "doctor_hospital_affiliations",
          "tableTo": "doctors",
          "columnsFrom": [
            "doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "doctor_hospital_affiliations_hospital_id_fkey": {
          "name": "doctor_hospital_affiliations_hospital_id_fkey",
          "tableFrom": "doctor_hospital_affiliations",
          "tableTo": "hospitals",
          "columnsFrom": [
            "hospital_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "doctor_hospital_affiliations_doctor_id_hospital_id_key": {
          "name": "doctor_hospital_affiliations_doctor_id_hospital_id_key",
          "nullsNotDistinct": false,
          "columns": [
            "doctor_id",
            "hospital_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "doctor_hospital_affiliations_status_check": {
          "name": "doctor_hospital_affiliations_status_check",
          "value": "status = ANY (ARRAY['active'::text, 'inactive'::text, 'pending'::text, 'suspended'::text])"
        }
      },
      "isRLSEnabled": false
    },
    "public.doctor_leaves": {
      "name": "doctor_leaves",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "doctor_id": {
          "name": "doctor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "leave_type": {
          "name": "leave_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "doctor_leaves_doctor_id_fkey": {
          "name": "doctor_leaves_doctor_id_fkey",
          "tableFrom": "doctor_leaves",
          "tableTo": "doctors",
          "columnsFrom": [
            "doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "doctor_leaves_check": {
          "name": "doctor_leaves_check",
          "value": "end_date >= start_date"
        },
        "doctor_leaves_leave_type_check": {
          "name": "doctor_leaves_leave_type_check",
          "value": "leave_type = ANY (ARRAY['sick'::text, 'vacation'::text, 'personal'::text, 'emergency'::text, 'other'::text])"
        }
      },
      "isRLSEnabled": false
    },
    "public.doctor_plan_features": {
      "name": "doctor_plan_features",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "plan_id": {
          "name": "plan_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "visibility_weight": {
          "name": "visibility_weight",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "max_affiliations": {
          "name": "max_affiliations",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "max_assignments_per_month": {
          "name": "max_assignments_per_month",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "doctor_plan_features_plan_id_fkey": {
          "name": "doctor_plan_features_plan_id_fkey",
          "tableFrom": "doctor_plan_features",
          "tableTo": "subscription_plans",
          "columnsFrom": [
            "plan_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.doctor_preferences": {
      "name": "doctor_preferences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "doctor_id": {
          "name": "doctor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "max_travel_distance_km": {
          "name": "max_travel_distance_km",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "accept_emergency_only": {
          "name": "accept_emergency_only",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "preferred_hospital_ids": {
          "name": "preferred_hospital_ids",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "blocked_hospital_ids": {
          "name": "blocked_hospital_ids",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "doctor_preferences_doctor_id_fkey": {
          "name": "doctor_preferences_doctor_id_fkey",
          "tableFrom": "doctor_preferences",
          "tableTo": "doctors",
          "columnsFrom": [
            "doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "doctor_preferences_doctor_id_key": {
          "name": "doctor_preferences_doctor_id_key",
          "nullsNotDistinct": false,
          "columns": [
            "doctor_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.doctor_profile_photos": {
      "name": "doctor_profile_photos",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "doctor_id": {
          "name": "doctor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "file_id": {
          "name": "file_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "uploaded_at": {
          "name": "uploaded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "doctor_profile_photos_doctor_id_fkey": {
          "name": "doctor_profile_photos_doctor_id_fkey",
          "tableFrom": "doctor_profile_photos",
          "tableTo": "doctors",
          "columnsFrom": [
            "doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "doctor_profile_photos_file_id_fkey": {
          "name": "doctor_profile_photos_file_id_fkey",
          "tableFrom": "doctor_profile_photos",
          "tableTo": "files",
          "columnsFrom": [
            "file_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.doctor_specialties": {
      "name": "doctor_specialties",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "doctor_id": {
          "name": "doctor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "specialty_id": {
          "name": "specialty_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "years_of_experience": {
          "name": "years_of_experience",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "doctor_specialties_doctor_id_fkey": {
          "name": "doctor_specialties_doctor_id_fkey",
          "tableFrom": "doctor_specialties",
          "tableTo": "doctors",
          "columnsFrom": [
            "doctor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "doctor_specialties_specialty_id_fkey": {
          "name": "doctor_specialties_specialty_id_fkey",
          "tableFrom": "doctor_specialties",
          "tableTo": "specialties",
          "columnsFrom": [
            "specialty_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "doctor_specialties_doctor_id_specialty_id_key": {
          "name": "doctor_specialties_doctor_id_specialty_id_key",
          "nullsNotDistinct": false,
          "columns": [
            "doctor_id",
            "specialty_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "doctor_specialties_years_of_experience_check": {
          "name": "doctor_specialties_years_of_experience_check",
          "value": "years_of_experience >= 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.doctors": {
      "name": "doctors",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "profile_photo_id": {
          "name": "profile_photo_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "first_name": {
          "name": "first_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "last_name": {
          "name": "last_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "medical_license_number": {
          "name": "medical_license_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "years_of_experience": {
          "name": "years_of_experience",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "bio": {
          "name": "bio",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "primary_location": {
          "name": "primary_location",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "latitude": {
          "name": "latitude",
          "type": "numeric(10, 8)",
          "primaryKey": false,
          "notNull": false
        },
        "longitude": {
          "name": "longitude",
          "type": "numeric(11, 8)",
          "primaryKey": false,
          "notNull": false
        },
        "license_verification_status": {
          "name": "license_verification_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "average_rating": {
          "name": "average_rating",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.00'"
        },
        "total_ratings": {
          "name": "total_ratings",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "completed_assignments": {
          "name": "completed_assignments",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "full_address": {
          "name": "full_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "state": {
          "name": "state",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pincode": {
          "name": "pincode",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_doctors_city": {
          "name": "idx_doctors_city",
          "columns": [
            {
              "expression": "city",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_doctors_license": {
          "name": "idx_doctors_license",
          "columns": [
            {
              "expression": "medical_license_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_doctors_location": {
          "name": "idx_doctors_location",
          "columns": [
            {
              "expression": "latitude",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "numeric_ops"
            },
            {
              "expression": "longitude",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "numeric_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_doctors_location_details": {
          "name": "idx_doctors_location_details",
          "columns": [
            {
              "expression": "city",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            },
            {
              "expression": "state",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            },
            {
              "expression": "pincode",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_doctors_pincode": {
          "name": "idx_doctors_pincode",
          "columns": [
            {
              "expression": "pincode",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_doctors_rating": {
          "name": "idx_doctors_rating",
          "columns": [
            {
              "expression": "average_rating",
              "isExpression": false,
              "asc": false,
              "nulls": "first",
              "opclass": "numeric_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_doctors_state": {
          "name": "idx_doctors_state",
          "columns": [
            {
              "expression": "state",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_doctors_user_id": {
          "name": "idx_doctors_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "doctors_profile_photo_id_fkey": {
          "name": "doctors_profile_photo_id_fkey",
          "tableFrom": "doctors",
          "tableTo": "files",
          "columnsFrom": [
            "profile_photo_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "doctors_user_id_fkey": {
          "name": "doctors_user_id_fkey",
          "tableFrom": "doctors",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "doctors_user_id_key": {
          "name": "doctors_user_id_key",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        },
        "doctors_medical_license_number_key": {
          "name": "doctors_medical_license_number_key",
          "nullsNotDistinct": false,
          "columns": [
            "medical_license_number"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "doctors_average_rating_check": {
          "name": "doctors_average_rating_check",
          "value": "(average_rating >= (0)::numeric) AND (average_rating <= (5)::numeric)"
        },
        "doctors_license_verification_status_check": {
          "name": "doctors_license_verification_status_check",
          "value": "license_verification_status = ANY (ARRAY['pending'::text, 'verified'::text, 'rejected'::text])"
        },
        "doctors_years_of_experience_check": {
          "name": "doctors_years_of_experience_check",
          "value": "years_of_experience >= 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.enum_channel": {
      "name": "enum_channel",
      "schema": "",
      "columns": {
        "channel": {
          "name": "channel",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.enum_priority": {
      "name": "enum_priority",
      "schema": "",
      "columns": {
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.enum_status": {
      "name": "enum_status",
      "schema": "",
      "columns": {
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.files": {
      "name": "files",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "filename": {
          "name": "filename",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "mimetype": {
          "name": "mimetype",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "size": {
          "name": "size",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "thumbnail": {
          "name": "thumbnail",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "storage_bucket": {
          "name": "storage_bucket",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "storage_key": {
          "name": "storage_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cdn_url": {
          "name": "cdn_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_public": {
          "name": "is_public",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.hospital_cancellation_flags": {
      "name": "hospital_cancellation_flags",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "hospital_id": {
          "name": "hospital_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "assignment_id": {
          "name": "assignment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "policy_window": {
          "name": "policy_window",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "recorded_at": {
          "name": "recorded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "hospital_cancellation_flags_assignment_id_fkey": {
          "name": "hospital_cancellation_flags_assignment_id_fkey",
          "tableFrom": "hospital_cancellation_flags",
          "tableTo": "assignments",
          "columnsFrom": [
            "assignment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "hospital_cancellation_flags_hospital_id_fkey": {
          "name": "hospital_cancellation_flags_hospital_id_fkey",
          "tableFrom": "hospital_cancellation_flags",
          "tableTo": "hospitals",
          "columnsFrom": [
            "hospital_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "hospital_cancellation_flags_severity_check": {
          "name": "hospital_cancellation_flags_severity_check",
          "value": "severity = ANY (ARRAY['low'::text, 'medium'::text, 'high'::text, 'critical'::text])"
        }
      },
      "isRLSEnabled": false
    },
    "public.hospital_departments": {
      "name": "hospital_departments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "hospital_id": {
          "name": "hospital_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "specialty_id": {
          "name": "specialty_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "hospital_departments_hospital_id_fkey": {
          "name": "hospital_departments_hospital_id_fkey",
          "tableFrom": "hospital_departments",
          "tableTo": "hospitals",
          "columnsFrom": [
            "hospital_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "hospital_departments_specialty_id_fkey": {
          "name": "hospital_departments_specialty_id_fkey",
          "tableFrom": "hospital_departments",
          "tableTo": "specialties",
          "columnsFrom": [
            "specialty_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "hospital_departments_hospital_id_specialty_id_key": {
          "name": "hospital_departments_hospital_id_specialty_id_key",
          "nullsNotDistinct": false,
          "columns": [
            "hospital_id",
            "specialty_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.hospital_documents": {
      "name": "hospital_documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "hospital_id": {
          "name": "hospital_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "file_id": {
          "name": "file_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "document_type": {
          "name": "document_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "verification_status": {
          "name": "verification_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "uploaded_at": {
          "name": "uploaded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "hospital_documents_file_id_fkey": {
          "name": "hospital_documents_file_id_fkey",
          "tableFrom": "hospital_documents",
          "tableTo": "files",
          "columnsFrom": [
            "file_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "hospital_documents_hospital_id_fkey": {
          "name": "hospital_documents_hospital_id_fkey",
          "tableFrom": "hospital_documents",
          "tableTo": "hospitals",
          "columnsFrom": [
            "hospital_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "hospital_documents_document_type_check": {
          "name": "hospital_documents_document_type_check",
          "value": "document_type = ANY (ARRAY['license'::text, 'accreditation'::text, 'insurance'::text, 'other'::text])"
        },
        "hospital_documents_verification_status_check": {
          "name": "hospital_documents_verification_status_check",
          "value": "verification_status = ANY (ARRAY['pending'::text, 'verified'::text, 'rejected'::text])"
        }
      },
      "isRLSEnabled": false
    },
    "public.hospital_plan_features": {
      "name": "hospital_plan_features",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "plan_id": {
          "name": "plan_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "max_patients_per_month": {
          "name": "max_patients_per_month",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "includes_premium_doctors": {
          "name": "includes_premium_doctors",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "max_assignments_per_month": {
          "name": "max_assignments_per_month",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "hospital_plan_features_plan_id_fkey": {
          "name": "hospital_plan_features_plan_id_fkey",
          "tableFrom": "hospital_plan_features",
          "tableTo": "subscription_plans",
          "columnsFrom": [
            "plan_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.hospital_preferences": {
      "name": "hospital_preferences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "hospital_id": {
          "name": "hospital_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "max_search_distance_km": {
          "name": "max_search_distance_km",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "prefer_affiliated_only": {
          "name": "prefer_affiliated_only",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "preferred_doctor_ids": {
          "name": "preferred_doctor_ids",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "blocked_doctor_ids": {
          "name": "blocked_doctor_ids",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "hospital_preferences_hospital_id_fkey": {
          "name": "hospital_preferences_hospital_id_fkey",
          "tableFrom": "hospital_preferences",
          "tableTo": "hospitals",
          "columnsFrom": [
            "hospital_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "hospital_preferences_hospital_id_key": {
          "name": "hospital_preferences_hospital_id_key",
          "nullsNotDistinct": false,
          "columns": [
            "hospital_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.hospital_usage_tracking": {
      "name": "hospital_usage_tracking",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "hospital_id": {
          "name": "hospital_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "month": {
          "name": "month",
          "type": "varchar(7)",
          "primaryKey": false,
          "notNull": true
        },
        "patients_count": {
          "name": "patients_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "assignments_count": {
          "name": "assignments_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "patients_limit": {
          "name": "patients_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "assignments_limit": {
          "name": "assignments_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "reset_date": {
          "name": "reset_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "idx_hospital_usage_tracking_hospital_month": {
          "name": "idx_hospital_usage_tracking_hospital_month",
          "columns": [
            {
              "expression": "hospital_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            },
            {
              "expression": "month",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "hospital_usage_tracking_hospital_id_fkey": {
          "name": "hospital_usage_tracking_hospital_id_fkey",
          "tableFrom": "hospital_usage_tracking",
          "tableTo": "hospitals",
          "columnsFrom": [
            "hospital_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "hospital_usage_tracking_hospital_id_month_key": {
          "name": "hospital_usage_tracking_hospital_id_month_key",
          "nullsNotDistinct": false,
          "columns": [
            "hospital_id",
            "month"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.hospitals": {
      "name": "hospitals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "logo_id": {
          "name": "logo_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "hospital_type": {
          "name": "hospital_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "registration_number": {
          "name": "registration_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "city": {
          "name": "city",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "latitude": {
          "name": "latitude",
          "type": "numeric(10, 8)",
          "primaryKey": false,
          "notNull": false
        },
        "longitude": {
          "name": "longitude",
          "type": "numeric(11, 8)",
          "primaryKey": false,
          "notNull": false
        },
        "number_of_beds": {
          "name": "number_of_beds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "contact_email": {
          "name": "contact_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contact_phone": {
          "name": "contact_phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "website_url": {
          "name": "website_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "license_verification_status": {
          "name": "license_verification_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "full_address": {
          "name": "full_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "state": {
          "name": "state",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pincode": {
          "name": "pincode",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_hospitals_city": {
          "name": "idx_hospitals_city",
          "columns": [
            {
              "expression": "city",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_hospitals_location": {
          "name": "idx_hospitals_location",
          "columns": [
            {
              "expression": "latitude",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "numeric_ops"
            },
            {
              "expression": "longitude",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "numeric_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_hospitals_user_id": {
          "name": "idx_hospitals_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "hospitals_logo_id_fkey": {
          "name": "hospitals_logo_id_fkey",
          "tableFrom": "hospitals",
          "tableTo": "files",
          "columnsFrom": [
            "logo_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "hospitals_user_id_fkey": {
          "name": "hospitals_user_id_fkey",
          "tableFrom": "hospitals",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "hospitals_user_id_key": {
          "name": "hospitals_user_id_key",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        },
        "hospitals_registration_number_key": {
          "name": "hospitals_registration_number_key",
          "nullsNotDistinct": false,
          "columns": [
            "registration_number"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "hospitals_hospital_type_check": {
          "name": "hospitals_hospital_type_check",
          "value": "hospital_type = ANY (ARRAY['general'::text, 'specialty'::text, 'clinic'::text, 'trauma_center'::text, 'teaching'::text, 'other'::text])"
        },
        "hospitals_license_verification_status_check": {
          "name": "hospitals_license_verification_status_check",
          "value": "license_verification_status = ANY (ARRAY['pending'::text, 'verified'::text, 'rejected'::text])"
        },
        "hospitals_number_of_beds_check": {
          "name": "hospitals_number_of_beds_check",
          "value": "number_of_beds >= 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.notification_preferences": {
      "name": "notification_preferences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "booking_updates_push": {
          "name": "booking_updates_push",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "booking_updates_email": {
          "name": "booking_updates_email",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "payment_push": {
          "name": "payment_push",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "reminders_push": {
          "name": "reminders_push",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_notification_preferences_user_id": {
          "name": "idx_notification_preferences_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "notification_preferences_user_id_fkey": {
          "name": "notification_preferences_user_id_fkey",
          "tableFrom": "notification_preferences",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "notification_preferences_user_id_key": {
          "name": "notification_preferences_user_id_key",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notification_recipients": {
      "name": "notification_recipients",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "notification_id": {
          "name": "notification_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "read_at": {
          "name": "read_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "notification_recipients_notification_id_fkey": {
          "name": "notification_recipients_notification_id_fkey",
          "tableFrom": "notification_recipients",
          "tableTo": "notifications",
          "columnsFrom": [
            "notification_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "notification_recipients_user_id_fkey": {
          "name": "notification_recipients_user_id_fkey",
          "tableFrom": "notification_recipients",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notifications": {
      "name": "notifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "recipient_type": {
          "name": "recipient_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "recipient_id": {
          "name": "recipient_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "channel": {
          "name": "channel",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'medium'"
        },
        "assignment_id": {
          "name": "assignment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "read": {
          "name": "read",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        }
      },
      "indexes": {
        "idx_notifications_created_at": {
          "name": "idx_notifications_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": false,
              "nulls": "first",
              "opclass": "timestamp_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_notifications_read": {
          "name": "idx_notifications_read",
          "columns": [
            {
              "expression": "read",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_notifications_recipient": {
          "name": "idx_notifications_recipient",
          "columns": [
            {
              "expression": "recipient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "notifications_assignment_id_fkey": {
          "name": "notifications_assignment_id_fkey",
          "tableFrom": "notifications",
          "tableTo": "assignments",
          "columnsFrom": [
            "assignment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "notifications_channel_fkey": {
          "name": "notifications_channel_fkey",
          "tableFrom": "notifications",
          "tableTo": "enum_channel",
          "columnsFrom": [
            "channel"
          ],
          "columnsTo": [
            "channel"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "notifications_priority_check": {
          "name": "notifications_priority_check",
          "value": "priority = ANY (ARRAY['low'::text, 'medium'::text, 'high'::text, 'urgent'::text])"
        },
        "notifications_recipient_type_check": {
          "name": "notifications_recipient_type_check",
          "value": "recipient_type = ANY (ARRAY['user'::text, 'role'::text, 'all'::text])"
        }
      },
      "isRLSEnabled": false
    },
    "public.orders": {
      "name": "orders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "order_type": {
          "name": "order_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "plan_id": {
          "name": "plan_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "pricing_id": {
          "name": "pricing_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "amount": {
          "name": "amount",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "gateway_name": {
          "name": "gateway_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "gateway_order_id": {
          "name": "gateway_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_role": {
          "name": "user_role",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attempt_number": {
          "name": "attempt_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "paid_at": {
          "name": "paid_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "failure_reason": {
          "name": "failure_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "webhook_received": {
          "name": "webhook_received",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "orders_plan_id_fkey": {
          "name": "orders_plan_id_fkey",
          "tableFrom": "orders",
          "tableTo": "subscription_plans",
          "columnsFrom": [
            "plan_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "orders_pricing_id_fkey": {
          "name": "orders_pricing_id_fkey",
          "tableFrom": "orders",
          "tableTo": "plan_pricing",
          "columnsFrom": [
            "pricing_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "orders_user_id_fkey": {
          "name": "orders_user_id_fkey",
          "tableFrom": "orders",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "orders_order_type_check": {
          "name": "orders_order_type_check",
          "value": "order_type = ANY (ARRAY['subscription'::text, 'consultation'::text, 'other'::text])"
        },
        "orders_status_check": {
          "name": "orders_status_check",
          "value": "status = ANY (ARRAY['pending'::text, 'paid'::text, 'failed'::text, 'expired'::text, 'refunded'::text])"
        },
        "orders_user_role_check": {
          "name": "orders_user_role_check",
          "value": "(user_role IS NULL) OR (user_role = ANY (ARRAY['doctor'::text, 'hospital'::text]))"
        }
      },
      "isRLSEnabled": false
    },
    "public.patient_consents": {
      "name": "patient_consents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "consent_type": {
          "name": "consent_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "granted": {
          "name": "granted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "granted_by": {
          "name": "granted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "relation_to_patient": {
          "name": "relation_to_patient",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "digital_signature": {
          "name": "digital_signature",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "granted_at": {
          "name": "granted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "patient_consents_patient_id_fkey": {
          "name": "patient_consents_patient_id_fkey",
          "tableFrom": "patient_consents",
          "tableTo": "patients",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "patient_consents_consent_type_check": {
          "name": "patient_consents_consent_type_check",
          "value": "consent_type = ANY (ARRAY['treatment'::text, 'data_sharing'::text, 'research'::text, 'photography'::text, 'other'::text])"
        }
      },
      "isRLSEnabled": false
    },
    "public.patients": {
      "name": "patients",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "hospital_id": {
          "name": "hospital_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "full_name": {
          "name": "full_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "date_of_birth": {
          "name": "date_of_birth",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "gender": {
          "name": "gender",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "emergency_contact": {
          "name": "emergency_contact",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "medical_condition": {
          "name": "medical_condition",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "room_type": {
          "name": "room_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cost_per_day": {
          "name": "cost_per_day",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "medical_notes": {
          "name": "medical_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "patients_hospital_id_fkey": {
          "name": "patients_hospital_id_fkey",
          "tableFrom": "patients",
          "tableTo": "hospitals",
          "columnsFrom": [
            "hospital_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "patients_gender_check": {
          "name": "patients_gender_check",
          "value": "gender = ANY (ARRAY['male'::text, 'female'::text, 'other'::text, 'prefer_not_to_say'::text])"
        },
        "patients_room_type_check": {
          "name": "patients_room_type_check",
          "value": "room_type = ANY (ARRAY['general'::text, 'private'::text, 'semi_private'::text, 'icu'::text, 'emergency'::text])"
        }
      },
      "isRLSEnabled": false
    },
    "public.payment_transactions": {
      "name": "payment_transactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "order_id": {
          "name": "order_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "payment_gateway": {
          "name": "payment_gateway",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payment_id": {
          "name": "payment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payment_method": {
          "name": "payment_method",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amount": {
          "name": "amount",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "gateway_response": {
          "name": "gateway_response",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "refunded_at": {
          "name": "refunded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "gateway_name": {
          "name": "gateway_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "gateway_payment_id": {
          "name": "gateway_payment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "gateway_order_id": {
          "name": "gateway_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "webhook_event_id": {
          "name": "webhook_event_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "webhook_processed_at": {
          "name": "webhook_processed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "refund_reference_id": {
          "name": "refund_reference_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "refund_reason": {
          "name": "refund_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "refund_amount": {
          "name": "refund_amount",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "refund_history_id": {
          "name": "refund_history_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "created_by_user_id": {
          "name": "created_by_user_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by_user_id": {
          "name": "updated_by_user_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "source_user_id": {
          "name": "source_user_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "source_text": {
          "name": "source_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "gateway_bank": {
          "name": "gateway_bank",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "gateway_wallet": {
          "name": "gateway_wallet",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "gateway_vpa": {
          "name": "gateway_vpa",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "invoice_number": {
          "name": "invoice_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "receipt_number": {
          "name": "receipt_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "response_message": {
          "name": "response_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_status": {
          "name": "payment_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_type": {
          "name": "payment_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "verified_via": {
          "name": "verified_via",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "subscription_id": {
          "name": "subscription_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "plan_id": {
          "name": "plan_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "pricing_id": {
          "name": "pricing_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_payment_transactions_created_at": {
          "name": "idx_payment_transactions_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "timestamp_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_payment_transactions_gateway_order": {
          "name": "idx_payment_transactions_gateway_order",
          "columns": [
            {
              "expression": "gateway_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            },
            {
              "expression": "gateway_order_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_payment_transactions_order": {
          "name": "idx_payment_transactions_order",
          "columns": [
            {
              "expression": "order_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_payment_transactions_payment_status": {
          "name": "idx_payment_transactions_payment_status",
          "columns": [
            {
              "expression": "payment_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_payment_transactions_status": {
          "name": "idx_payment_transactions_status",
          "columns": [
            {
              "expression": "payment_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_payment_transactions_type_status": {
          "name": "idx_payment_transactions_type_status",
          "columns": [
            {
              "expression": "payment_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            },
            {
              "expression": "payment_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_payment_transactions_webhook_event": {
          "name": "idx_payment_transactions_webhook_event",
          "columns": [
            {
              "expression": "webhook_event_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "where": "(webhook_event_id IS NOT NULL)",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "payment_transactions_plan_id_fkey": {
          "name": "payment_transactions_plan_id_fkey",
          "tableFrom": "payment_transactions",
          "tableTo": "subscription_plans",
          "columnsFrom": [
            "plan_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_transactions_pricing_id_fkey": {
          "name": "payment_transactions_pricing_id_fkey",
          "tableFrom": "payment_transactions",
          "tableTo": "plan_pricing",
          "columnsFrom": [
            "pricing_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_transactions_subscription_id_fkey": {
          "name": "payment_transactions_subscription_id_fkey",
          "tableFrom": "payment_transactions",
          "tableTo": "subscriptions",
          "columnsFrom": [
            "subscription_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_transactions_user_id_fkey": {
          "name": "payment_transactions_user_id_fkey",
          "tableFrom": "payment_transactions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "payment_transactions_payment_id_key": {
          "name": "payment_transactions_payment_id_key",
          "nullsNotDistinct": false,
          "columns": [
            "payment_id"
          ]
        },
        "uq_gateway_payment": {
          "name": "uq_gateway_payment",
          "nullsNotDistinct": false,
          "columns": [
            "gateway_name",
            "gateway_payment_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "payment_transactions_status_check": {
          "name": "payment_transactions_status_check",
          "value": "status = ANY (ARRAY['pending'::text, 'success'::text, 'failed'::text, 'refunded'::text])"
        },
        "payment_transactions_verified_via_check": {
          "name": "payment_transactions_verified_via_check",
          "value": "verified_via = ANY (ARRAY['webhook'::text, 'manual'::text])"
        }
      },
      "isRLSEnabled": false
    },
    "public.plan_pricing": {
      "name": "plan_pricing",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "plan_id": {
          "name": "plan_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "billing_cycle": {
          "name": "billing_cycle",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "billing_period_months": {
          "name": "billing_period_months",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "price": {
          "name": "price",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "setup_fee": {
          "name": "setup_fee",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "discount_percentage": {
          "name": "discount_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.00'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "valid_from": {
          "name": "valid_from",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "valid_until": {
          "name": "valid_until",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "idx_plan_pricing_active": {
          "name": "idx_plan_pricing_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops"
            }
          ],
          "isUnique": false,
          "where": "(is_active = true)",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_plan_pricing_plan_id": {
          "name": "idx_plan_pricing_plan_id",
          "columns": [
            {
              "expression": "plan_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "plan_pricing_plan_id_fkey": {
          "name": "plan_pricing_plan_id_fkey",
          "tableFrom": "plan_pricing",
          "tableTo": "subscription_plans",
          "columnsFrom": [
            "plan_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "plan_pricing_plan_id_billing_cycle_key": {
          "name": "plan_pricing_plan_id_billing_cycle_key",
          "nullsNotDistinct": false,
          "columns": [
            "plan_id",
            "billing_cycle"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "plan_pricing_billing_cycle_check": {
          "name": "plan_pricing_billing_cycle_check",
          "value": "billing_cycle = ANY (ARRAY['monthly'::text, 'quarterly'::text, 'yearly'::text, 'custom'::text])"
        }
      },
      "isRLSEnabled": false
    },
    "public.specialties": {
      "name": "specialties",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "specialties_name_key": {
          "name": "specialties_name_key",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.subscription_plans": {
      "name": "subscription_plans",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tier": {
          "name": "tier",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_role": {
          "name": "user_role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "default_billing_cycle": {
          "name": "default_billing_cycle",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "subscription_plans_default_billing_cycle_check": {
          "name": "subscription_plans_default_billing_cycle_check",
          "value": "default_billing_cycle = ANY (ARRAY['monthly'::text, 'quarterly'::text, 'yearly'::text, 'custom'::text])"
        },
        "subscription_plans_tier_check": {
          "name": "subscription_plans_tier_check",
          "value": "tier = ANY (ARRAY['free'::text, 'basic'::text, 'premium'::text, 'enterprise'::text])"
        },
        "subscription_plans_user_role_check": {
          "name": "subscription_plans_user_role_check",
          "value": "user_role = ANY (ARRAY['doctor'::text, 'hospital'::text])"
        }
      },
      "isRLSEnabled": false
    },
    "public.subscriptions": {
      "name": "subscriptions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "plan_id": {
          "name": "plan_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "order_id": {
          "name": "order_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "payment_transaction_id": {
          "name": "payment_transaction_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "start_date": {
          "name": "start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "auto_renew": {
          "name": "auto_renew",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "billing_cycle": {
          "name": "billing_cycle",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'monthly'"
        },
        "billing_period_months": {
          "name": "billing_period_months",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "pricing_id": {
          "name": "pricing_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "next_renewal_date": {
          "name": "next_renewal_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_renewal_date": {
          "name": "last_renewal_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "cancellation_reason": {
          "name": "cancellation_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_by": {
          "name": "cancelled_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "next_plan_id": {
          "name": "next_plan_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "next_pricing_id": {
          "name": "next_pricing_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "plan_change_status": {
          "name": "plan_change_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "replaced_by_subscription_id": {
          "name": "replaced_by_subscription_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_subscriptions_end_date": {
          "name": "idx_subscriptions_end_date",
          "columns": [
            {
              "expression": "end_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "timestamp_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_subscriptions_next_plan_id": {
          "name": "idx_subscriptions_next_plan_id",
          "columns": [
            {
              "expression": "next_plan_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops"
            }
          ],
          "isUnique": false,
          "where": "(next_plan_id IS NOT NULL)",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_subscriptions_plan_change_status": {
          "name": "idx_subscriptions_plan_change_status",
          "columns": [
            {
              "expression": "plan_change_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "where": "(plan_change_status IS NOT NULL)",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_subscriptions_replaced_by_subscription_id": {
          "name": "idx_subscriptions_replaced_by_subscription_id",
          "columns": [
            {
              "expression": "replaced_by_subscription_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops"
            }
          ],
          "isUnique": false,
          "where": "(replaced_by_subscription_id IS NOT NULL)",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_subscriptions_status": {
          "name": "idx_subscriptions_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_subscriptions_user_id": {
          "name": "idx_subscriptions_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "subscriptions_next_plan_id_fkey": {
          "name": "subscriptions_next_plan_id_fkey",
          "tableFrom": "subscriptions",
          "tableTo": "subscription_plans",
          "columnsFrom": [
            "next_plan_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "subscriptions_next_pricing_id_fkey": {
          "name": "subscriptions_next_pricing_id_fkey",
          "tableFrom": "subscriptions",
          "tableTo": "plan_pricing",
          "columnsFrom": [
            "next_pricing_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "subscriptions_payment_transaction_id_fkey": {
          "name": "subscriptions_payment_transaction_id_fkey",
          "tableFrom": "subscriptions",
          "tableTo": "payment_transactions",
          "columnsFrom": [
            "payment_transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "subscriptions_plan_id_fkey": {
          "name": "subscriptions_plan_id_fkey",
          "tableFrom": "subscriptions",
          "tableTo": "subscription_plans",
          "columnsFrom": [
            "plan_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "subscriptions_pricing_id_fkey": {
          "name": "subscriptions_pricing_id_fkey",
          "tableFrom": "subscriptions",
          "tableTo": "plan_pricing",
          "columnsFrom": [
            "pricing_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "subscriptions_replaced_by_subscription_id_fkey": {
          "name": "subscriptions_replaced_by_subscription_id_fkey",
          "tableFrom": "subscriptions",
          "tableTo": "subscriptions",
          "columnsFrom": [
            "replaced_by_subscription_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "subscriptions_user_id_fkey": {
          "name": "subscriptions_user_id_fkey",
          "tableFrom": "subscriptions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "subscriptions_billing_cycle_check": {
          "name": "subscriptions_billing_cycle_check",
          "value": "billing_cycle = ANY (ARRAY['monthly'::text, 'quarterly'::text, 'yearly'::text, 'custom'::text])"
        },
        "subscriptions_cancelled_by_check": {
          "name": "subscriptions_cancelled_by_check",
          "value": "cancelled_by = ANY (ARRAY['user'::text, 'admin'::text, 'system'::text])"
        },
        "subscriptions_plan_change_status_check": {
          "name": "subscriptions_plan_change_status_check",
          "value": "(plan_change_status IS NULL) OR (plan_change_status = ANY (ARRAY['pending'::text, 'cancelled'::text, 'failed'::text]))"
        },
        "subscriptions_status_check": {
          "name": "subscriptions_status_check",
          "value": "status = ANY (ARRAY['active'::text, 'expired'::text, 'cancelled'::text, 'suspended'::text])"
        }
      },
      "isRLSEnabled": false
    },
    "public.support_tickets": {
      "name": "support_tickets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "booking_id": {
          "name": "booking_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "subject": {
          "name": "subject",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'medium'"
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'open'"
        },
        "assigned_to": {
          "name": "assigned_to",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "support_tickets_assigned_to_fkey": {
          "name": "support_tickets_assigned_to_fkey",
          "tableFrom": "support_tickets",
          "tableTo": "users",
          "columnsFrom": [
            "assigned_to"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "support_tickets_user_id_fkey": {
          "name": "support_tickets_user_id_fkey",
          "tableFrom": "support_tickets",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_devices": {
      "name": "user_devices",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "device_type": {
          "name": "device_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "device_token": {
          "name": "device_token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "app_version": {
          "name": "app_version",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "os_version": {
          "name": "os_version",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "device_name": {
          "name": "device_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "last_used_at": {
          "name": "last_used_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_user_devices_device_token": {
          "name": "idx_user_devices_device_token",
          "columns": [
            {
              "expression": "device_token",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_devices_is_active": {
          "name": "idx_user_devices_is_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_devices_user_id": {
          "name": "idx_user_devices_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_devices_user_id_fkey": {
          "name": "user_devices_user_id_fkey",
          "tableFrom": "user_devices",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_devices_user_id_device_token_key": {
          "name": "user_devices_user_id_device_token_key",
          "nullsNotDistinct": false,
          "columns": [
            "user_id",
            "device_token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "user_devices_device_type_check": {
          "name": "user_devices_device_type_check",
          "value": "(device_type)::text = ANY ((ARRAY['ios'::character varying, 'android'::character varying, 'web'::character varying])::text[])"
        }
      },
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "password_hash": {
          "name": "password_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "subscription_status": {
          "name": "subscription_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subscription_tier": {
          "name": "subscription_tier",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "email_verified": {
          "name": "email_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "phone_verified": {
          "name": "phone_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "last_login_at": {
          "name": "last_login_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_users_email": {
          "name": "idx_users_email",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_users_role": {
          "name": "idx_users_role",
          "columns": [
            {
              "expression": "role",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_users_status": {
          "name": "idx_users_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_key": {
          "name": "users_email_key",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "users_role_check": {
          "name": "users_role_check",
          "value": "role = ANY (ARRAY['doctor'::text, 'hospital'::text, 'admin'::text])"
        },
        "users_status_check": {
          "name": "users_status_check",
          "value": "status = ANY (ARRAY['active'::text, 'inactive'::text, 'pending'::text, 'suspended'::text])"
        },
        "users_subscription_status_check": {
          "name": "users_subscription_status_check",
          "value": "subscription_status = ANY (ARRAY['active'::text, 'expired'::text, 'cancelled'::text, 'trial'::text])"
        }
      },
      "isRLSEnabled": false
    },
    "public.webhook_events": {
      "name": "webhook_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "webhook_events_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854776000",
            "cache": "1",
            "cycle": false
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "gateway_name": {
          "name": "gateway_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "gateway_event_id": {
          "name": "gateway_event_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "gateway_payment_id": {
          "name": "gateway_payment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "gateway_order_id": {
          "name": "gateway_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_transaction_id": {
          "name": "payment_transaction_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "signature": {
          "name": "signature",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "processing_status": {
          "name": "processing_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'success'"
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "subscription_id": {
          "name": "subscription_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_webhook_events_event_type": {
          "name": "idx_webhook_events_event_type",
          "columns": [
            {
              "expression": "event_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_webhook_events_gateway_order": {
          "name": "idx_webhook_events_gateway_order",
          "columns": [
            {
              "expression": "gateway_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            },
            {
              "expression": "gateway_order_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_webhook_events_gateway_payment": {
          "name": "idx_webhook_events_gateway_payment",
          "columns": [
            {
              "expression": "gateway_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            },
            {
              "expression": "gateway_payment_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_webhook_events_processed_at": {
          "name": "idx_webhook_events_processed_at",
          "columns": [
            {
              "expression": "processed_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_webhook_events_status": {
          "name": "idx_webhook_events_status",
          "columns": [
            {
              "expression": "processing_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_webhook_events_transaction": {
          "name": "idx_webhook_events_transaction",
          "columns": [
            {
              "expression": "payment_transaction_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops"
            }
          ],
          "isUnique": false,
          "where": "(payment_transaction_id IS NOT NULL)",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "webhook_events_payment_transaction_id_fkey": {
          "name": "webhook_events_payment_transaction_id_fkey",
          "tableFrom": "webhook_events",
          "tableTo": "payment_transactions",
          "columnsFrom": [
            "payment_transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_gateway_event": {
          "name": "uq_gateway_event",
          "nullsNotDistinct": false,
          "columns": [
            "gateway_name",
            "gateway_event_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.webhook_logs": {
      "name": "webhook_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_id": {
          "name": "event_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payload": {
          "name": "payload",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "webhook_logs_event_id_key": {
          "name": "webhook_logs_event_id_key",
          "nullsNotDistinct": false,
          "columns": [
            "event_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "webhook_logs_status_check": {
          "name": "webhook_logs_status_check",
          "value": "status = ANY (ARRAY['pending'::text, 'processed'::text, 'failed'::text, 'ignored'::text])"
        }
      },
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}